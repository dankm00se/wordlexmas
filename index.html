<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Wordle</title>
    <style>
        body {
            background-color: #121213;
            color: #d7dadc;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        h1 {
            margin-bottom: 20px;
            color: #d7dadc;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(5, 50px);
            gap: 5px;
        }
        .cell {
            width: 50px;
            height: 50px;
            border: 2px solid #3a3a3c;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            text-transform: uppercase;
        }
        .cell.correct {
            background-color: #538d4e; /* Green */
            color: #ffffff;
        }
        .cell.present {
            background-color: #b59f3b; /* Yellow */
            color: #ffffff;
        }
        .cell.absent {
            background-color: #3a3a3c; /* Dark Gray */
            color: #ffffff;
        }
        .keyboard {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
            margin-top: 20px;
        }
        .key {
            padding: 10px;
            background-color: #818384;
            color: #ffffff;
            border: none;
            font-size: 14px;
            text-transform: uppercase;
            cursor: pointer;
        }
        .key.correct {
            background-color: #538d4e;
        }
        .key.present {
            background-color: #b59f3b;
        }
        .key.absent {
            background-color: #3a3a3c;
        }
        #message {
            margin-top: 20px;
            font-size: 18px;
        }
        #gift {
            display: none;
            margin-top: 20px;
            text-align: center;
        }
        #gift img {
            max-width: 100%;
            height: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Christmas Wordle</h1>
    <div class="grid" id="grid"></div>
    <div class="keyboard" id="keyboard"></div>
    <div id="message"></div>
    <div id="gift">
        <p>Congratulations! Here are your tickets:</p>
        <img src="placeholder-ticket.png" alt="Ticket 1">
        <img src="placeholder-ticket.png" alt="Ticket 2">
    </div>
    <script>
        const word = "PVRIS";
        const maxGuesses = 6;
        let currentGuess = "";
        let attempts = [];

        const grid = document.getElementById("grid");
        const keyboard = document.getElementById("keyboard");
        const message = document.getElementById("message");
        const gift = document.getElementById("gift");

        function initGrid() {
            for (let i = 0; i < maxGuesses * word.length; i++) {
                const cell = document.createElement("div");
                cell.className = "cell";
                grid.appendChild(cell);
            }
        }

        function initKeyboard() {
            const keys = "QWERTYUIOPASDFGHJKLZXCVBNM".split("");
            keys.forEach(key => {
                const button = document.createElement("button");
                button.className = "key";
                button.textContent = key;
                button.onclick = () => handleKeyPress(key);
                keyboard.appendChild(button);
            });

            const enterKey = document.createElement("button");
            enterKey.className = "key";
            enterKey.textContent = "Enter";
            enterKey.onclick = handleSubmit;
            keyboard.appendChild(enterKey);

            const deleteKey = document.createElement("button");
            deleteKey.className = "key";
            deleteKey.textContent = "Del";
            deleteKey.onclick = handleDelete;
            keyboard.appendChild(deleteKey);
        }

        function handleKeyPress(letter) {
            if (currentGuess.length < word.length) {
                currentGuess += letter;
                updateGrid();
            }
        }

        function handleDelete() {
            currentGuess = currentGuess.slice(0, -1);
            updateGrid();
        }

        function handleSubmit() {
            if (currentGuess.length < word.length) {
                setMessage("Not enough letters!");
                return;
            }

            const result = checkGuess(currentGuess);
            attempts.push(currentGuess);

            if (result.every(r => r === "correct")) {
                endGame(true);
            } else if (attempts.length === maxGuesses) {
                endGame(false);
            }

            currentGuess = "";
            updateGrid();
            updateKeyboard(result);
        }

        function checkGuess(guess) {
            const result = Array(word.length).fill("absent");
            const wordLetters = word.split("");

            guess.split("").forEach((letter, i) => {
                if (word[i] === letter) {
                    result[i] = "correct";
                    wordLetters[i] = null;
                } else if (wordLetters.includes(letter)) {
                    result[i] = "present";
                    wordLetters[wordLetters.indexOf(letter)] = null;
                }
            });

            return result;
        }

        function updateGrid() {
            const cells = document.querySelectorAll(".cell");
            cells.forEach((cell, i) => {
                const row = Math.floor(i / word.length);
                const col = i % word.length;
                cell.textContent = attempts[row]?.[col] || (row === attempts.length ? currentGuess[col] || "" : "");
                cell.className = "cell";
                if (attempts[row]) cell.classList.add(checkGuess(attempts[row])[col]);
            });
        }

        function updateKeyboard(result) {
            const keys = document.querySelectorAll(".key");
            result.forEach((status, i) => {
                const key = Array.from(keys).find(k => k.textContent === currentGuess[i]);
                if (key) key.classList.add(status);
            });
        }

        function setMessage(msg) {
            message.textContent = msg;
        }

        function endGame(win) {
            setMessage(win ? "You guessed it!" : `The word was ${word}`);
            gift.style.display = "block";
            keyboard.querySelectorAll("button").forEach(button => (button.disabled = true));
        }

        initGrid();
        initKeyboard();
    </script>
</body>
</html>
